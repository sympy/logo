<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
        <html><head>
        <link rel="stylesheet" type="text/css" href="apidocs.css"/>
        <title>API docs for &ldquo;sympy.plotting.pyglet.clock&rdquo;</title>
        </head>
        <body><h1 class="module">Module s.p.p.clock</h1><span id="part">Part of <a href="sympy.plotting.pyglet.html">sympy.plotting.pyglet</a></span><div class="toplevel"><pre>Precise framerate calculation, scheduling and framerate limiting.

Measuring time
==============

The `tick` and `get_fps` functions can be used in conjunction to fulfil most
games' basic requirements::

    from pylet import clock
    while True:
        dt = clock.tick()
        # ... update and render ...
        print 'FPS is %f' % clock.get_fps()

The ``dt`` value returned gives the number of seconds (as a float) since the
last "tick".

The `get_fps` function averages the framerate over a sliding window of
approximately 1 second.  (You can calculate the instantaneous framerate by
taking the reciprocal of ``dt``).

Always remember to `tick` the clock!

Limiting frame-rate
===================

The framerate can be limited::

    clock.set_fps_limit(60)

This causes `clock` to sleep during each `tick` in an attempt to keep the
number of ticks (frames) per second below 60.

The implementation uses platform-dependent high-resolution sleep functions
to achieve better accuracy with busy-waiting than would be possible using
just the `time` module.  

Scheduling
==========

You can schedule a function to be called every time the clock is ticked::

    def callback(dt):
        print '%f seconds since last callback' % dt
   
    clock.schedule(callback)
   
The `schedule_interval` method causes a function to be called every "n"
seconds::

    clock.schedule_interval(callback, .5)   # called twice a second

The `schedule_once` method causes a function to be called once "n" seconds
in the future::

    clock.schedule_once(callback, 5)        # called in 5 seconds

All of the `schedule` methods will pass on any additional args or keyword args
you specify ot the callback function::

    def animate(dt, velocity, sprite):
       sprite.position += dt * velocity
   
    clock.schedule(animate, velocity=5.0, sprite=alien)
   
You can cancel a function scheduled with any of these methods using
`unschedule`::

    clock.unschedule(animate)

Displaying FPS
==============

The ClockDisplay class provides a simple FPS counter::

    fps_display = clock.ClockDisplay()
    fps_display.draw()
   
There are several options to change the font, color and text displayed
within the __init__ method.

Using multiple clocks
=====================

The clock functions are all relayed to an instance of `Clock` which is
initalised with the module.  You can get this instance to use directly::

    clk = clock.get_default()

You can also replace the default clock with your own:

    myclk = clock.Clock()
    clock.set_default(myclk)

Each clock maintains its own set of scheduled functions and FPS
limiting/measurement.  Each clock must be "ticked" separately.

Multiple and derived clocks potentially allow you to separate "game-time" and
"wall-time", or to synchronise your clock to an audio or video stream instead
of the system clock.</pre></div><table class="children"><tr class="class"><td>Class</td><td><a href="sympy.plotting.pyglet.clock._ClockBase 0.html">_ClockBase 0</a></td><td><span class="undocumented">Undocumented</span></td></tr><tr class="class"><td>Class</td><td><a href="sympy.plotting.pyglet.clock._ClockBase.html">_ClockBase</a></td><td><span class="undocumented">Undocumented</span></td></tr><tr class="class"><td>Class</td><td><a href="sympy.plotting.pyglet.clock._ScheduledIntervalItem.html">_ScheduledIntervalItem</a></td><td><span class="undocumented">Undocumented</span></td></tr><tr class="class"><td>Class</td><td><a href="sympy.plotting.pyglet.clock.Clock.html">Clock</a></td><td><div>Class for calculating and limiting framerate, and for calling 
scheduled
</div></td></tr><tr class="function"><td>Function</td><td><a href="#sympy.plotting.pyglet.clock.set_default">set_default</a></td><td><div>Set the default clock to use for all module-level functions.
</div></td></tr><tr class="function"><td>Function</td><td><a href="#sympy.plotting.pyglet.clock.get_default">get_default</a></td><td><div>Return the `Clock` instance that is used by all module-level
</div></td></tr><tr class="function"><td>Function</td><td><a href="#sympy.plotting.pyglet.clock.tick">tick</a></td><td><div>Signify that one frame has passed on the default clock.
</div></td></tr><tr class="function"><td>Function</td><td><a href="#sympy.plotting.pyglet.clock.get_fps">get_fps</a></td><td><div>Return the current measured FPS of the default clock.
</div></td></tr><tr class="function"><td>Function</td><td><a href="#sympy.plotting.pyglet.clock.set_fps_limit">set_fps_limit</a></td><td><div>Set the framerate limit for the default clock.
</div></td></tr><tr class="function"><td>Function</td><td><a href="#sympy.plotting.pyglet.clock.get_fps_limit">get_fps_limit</a></td><td><div>Get the framerate limit for the default clock.
</div></td></tr><tr class="function"><td>Function</td><td><a href="#sympy.plotting.pyglet.clock.schedule">schedule</a></td><td><div>Schedule 'func' to be called every frame on the default clock.
</div></td></tr><tr class="function"><td>Function</td><td><a href="#sympy.plotting.pyglet.clock.schedule_interval">schedule_interval</a></td><td><div>Schedule 'func' to be called every 'interval' seconds on the default
</div></td></tr><tr class="function"><td>Function</td><td><a href="#sympy.plotting.pyglet.clock.schedule_once">schedule_once</a></td><td><div>Schedule 'func' to be called once after 'delay' seconds (can be
</div></td></tr><tr class="function"><td>Function</td><td><a href="#sympy.plotting.pyglet.clock.unschedule">unschedule</a></td><td><div>Remove 'func' from the default clock's schedule.  No error
</div></td></tr><tr class="class"><td>Class</td><td><a href="sympy.plotting.pyglet.clock.ClockDisplay.html">ClockDisplay</a></td><td><div>Display current clock values, such as FPS.
</div></td></tr><tr class="function"><td>Function</td><td><a href="#sympy.plotting.pyglet.clock.test_clock">test_clock</a></td><td><span class="undocumented">Undocumented</span></td></tr></table>
            <div class="function">
            <div class="functionHeader">def <a name="sympy.plotting.pyglet.clock.set_default">set_default(default):</a></div>
            <div class="functionBody"><pre>Set the default clock to use for all module-level functions.

By default an instance of `Clock` is used.

:Parameters:
    `default` : `Clock`
        The default clock to use.</pre></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="sympy.plotting.pyglet.clock.get_default">get_default():</a></div>
            <div class="functionBody"><div><p>Return the `Clock` instance that is used by all module-level clock 
functions.</p>
:rtype: `Clock` :return: The default clock.
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="sympy.plotting.pyglet.clock.tick">tick():</a></div>
            <div class="functionBody"><pre>Signify that one frame has passed on the default clock.

This will call any scheduled functions that have elapsed.

:rtype: float
:return: The number of seconds since the last "tick", or 0 if this was the
    first frame.</pre></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="sympy.plotting.pyglet.clock.get_fps">get_fps():</a></div>
            <div class="functionBody"><div><p>Return the current measured FPS of the default clock.</p>
:rtype: float
</div></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="sympy.plotting.pyglet.clock.set_fps_limit">set_fps_limit(fps_limit):</a></div>
            <div class="functionBody"><pre>Set the framerate limit for the default clock.

:Parameters:
    `fps_limit` : float
        Maximum frames per second allowed, or None to disable
        limiting.</pre></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="sympy.plotting.pyglet.clock.get_fps_limit">get_fps_limit():</a></div>
            <div class="functionBody"><pre>Get the framerate limit for the default clock.

:return: The framerate limit previously set by `set_fps_limit`, or None if
    no limit was set.</pre></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="sympy.plotting.pyglet.clock.schedule">schedule(func, *args, **kwargs):</a></div>
            <div class="functionBody"><pre>Schedule 'func' to be called every frame on the default clock.  

The arguments passed to func are ``dt``, followed by any ``*args`` and 
``**kwargs`` given here.

:Parameters:
    `func` : function
        The function to call each frame.</pre></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="sympy.plotting.pyglet.clock.schedule_interval">schedule_interval(func, interval, *args, **kwargs):</a></div>
            <div class="functionBody"><pre>Schedule 'func' to be called every 'interval' seconds on the default
clock.  

The arguments passed to 'func' are 'dt' (time since last function call),
followed by any ``*args`` and ``**kwargs`` given here.

:Parameters:
    `func` : function
        The function to call when the timer lapses.
    `interval` : float
        The number of seconds to wait between each call.</pre></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="sympy.plotting.pyglet.clock.schedule_once">schedule_once(func, delay, *args, **kwargs):</a></div>
            <div class="functionBody"><pre>Schedule 'func' to be called once after 'delay' seconds (can be
a float) on the default clock.  The arguments passed to 'func' are
'dt' (time since last function call), followed by any ``*args`` and
``**kwargs`` given here.

If no default clock is set, the func is queued and will be scheduled
on the default clock as soon as it is created.

:Parameters:
    `func` : function
        The function to call when the timer lapses.
    `delay` : float
        The number of seconds to wait before the timer lapses.</pre></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="sympy.plotting.pyglet.clock.unschedule">unschedule(func):</a></div>
            <div class="functionBody"><pre>Remove 'func' from the default clock's schedule.  No error
is raised if the func was never scheduled.

:Parameters:
    `func` : function
        The function to remove from the schedule.</pre></div>
            </div>
            <div class="function">
            <div class="functionHeader">def <a name="sympy.plotting.pyglet.clock.test_clock">test_clock():</a></div>
            <div class="functionBody"><div class="undocumented">Undocumented</div></div>
            </div></body>
        