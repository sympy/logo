<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
        <html><head>
        <link rel="stylesheet" type="text/css" href="apidocs.css"/>
        <title>API docs for &ldquo;sympy.plotting.pyglet.image&rdquo;</title>
        </head>
        <body><h1 class="package">Package s.p.p.image</h1><span id="part">Part of <a href="sympy.plotting.pyglet.html">sympy.plotting.pyglet</a></span><div class="toplevel"><pre>Image load, capture and high-level texture functions.

Only basic functionality is described here; for full reference see the
accompanying documentation.

To load an image::

    from pyglet import image
    pic = image.load('picture.png')

The supported image file types include PNG, BMP, GIF, JPG, and many more,
somewhat depending on the operating system.  To load an image from a file-like
object instead of a filename::

    pic = image.load('hint.jpg', file=fileobj)

The hint helps the module locate an appropriate decoder to use based on the
file extension.  It is optional.

Once loaded, images can be used directly by most other modules of pyglet (for
example, pyglet.ext.scene2d).  All images have a width and height you can
access::

    width, height = pic.width, pic.height

You can extract a region of an image (this keeps the original image intact;
the memory is shared efficiently)::

    subimage = pic.get_region(x, y, width, height)

Remember that y-coordinates are always increasing upwards.

Drawing images
--------------

To draw an image at some point on the screen::

    pic.blit(x, y, z)

This assumes an appropriate view transform and projection have been applied.

Texture access
--------------

If you are using OpenGL directly, you can access the image as a texture::

    texture = pic.texture

(This is the most efficient way to obtain a texture; some images are
immediately loaded as textures, whereas others go through an intermediate
form).  To use a texture with pyglet.gl::

    from pyglet.gl import *
    glEnable(texture.target)        # typically target is GL_TEXTURE_2D
    glBindTexture(texture.target, texture.id)
    # ... draw with the texture

Pixel access
------------

To access raw pixel data of an image::

    rawimage = pic.image_data

(If the image has just been loaded this will be a very quick operation;
however if the image is a texture a relatively expensive readback operation
will occur).  The pixels can be accessed as a string::

    pixels = rawimage.data

You determine the format of these pixels by examining rawimage.pitch,
rawimage.format.  The "pitch" of an image is the number of bytes in a row
(this may validly be more than the number required to make up the width of the
image, it is common to see this for word alignment).  If "pitch" is negative
the rows of the image are ordered from top to bottom, otherwise they are
ordedred from bottom to top.

"format" strings consist of characters that give the byte
order of each color component.  For example, if rawimage.format is 'RGBA',
there are four color components: red, green, blue and alpha, in that order.
Other common format strings are 'RGB', 'LA' (luminance, alpha) and 'I'
(intensity).

You can also set the format and pitch of an image.  This affects how "data"
will be presented the next time it is read or written to::

    # Read the alpha channel only, with rows tightly packed from bottom-to-top.
    rawimage.format = 'A'
    rawimage.pitch = rawimage.width
    data = rawimage.data</pre></div><table class="children"><tr class="package"><td>Package</td><td><a href="sympy.plotting.pyglet.image.codecs.html">codecs</a></td><td><div><p>Collection of image encoders and decoders.</p>
</div></td></tr></table></body>
        